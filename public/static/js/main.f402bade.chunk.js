(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{262:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(36),i=n.n(c),s=n(14),o=n(7),l=n(15),j=n(3),b=n(19),d=n(24),u=n(332),x=n(341),O=n(342),h=n(343),p=n(100),m=n(340),f=n(328),g=n(349),v=n(350),y=n(325),k=n(334),C=n(88),w=n.n(C),S=n(89),U=n.n(S),E=n(87),_=n.n(E),B=n(0),A={padding:20,height:"70vh",width:320,margin:"20px auto",textAlign:"center",boxShadow:"4px 4px 4px rgba(0, 0, 0, 0.25)",borderRadius:"25px"},I={margin:"20px 0"},L={marginTop:"2.5%",marginBottom:"2.5%"},P={email:"",password:""},T=function(e){var t=e.setCurrentUser,n=Object(r.useState)(P),a=Object(o.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(!1),C=Object(o.a)(s,2),S=C[0],E=C[1],T=Object(r.useState)(!1),z=Object(o.a)(T,2),W=z[0],Y=z[1],D=Object(l.f)(),N=function(e){var t=e.target,n=t.name,r=t.value;i(Object(b.a)(Object(b.a)({},c),{},Object(j.a)({},n,r)))};return Object(B.jsxs)(u.a,{style:{display:"inline-block",backgroundImage:"url(https://i.imgur.com/Y35Y6mf.jpg)",backgroundSize:"cover",backgroundAttachment:"fixed",width:"100%",height:"100%",position:"absolute",backgroundRepeat:"no-repeat"},children:[Object(B.jsx)(x.a,{sx:{display:"flex",margin:"40px 0"},children:Object(B.jsx)(O.a,{component:"nav",children:Object(B.jsx)(h.a,{children:Object(B.jsx)(p.a,{variant:"h6",component:"div",sx:{flexGrow:1,display:{xs:"none",sm:"block"}},children:"Book Club Cafe"})})})}),Object(B.jsx)(m.a,{elevation:10,style:A,children:Object(B.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Object(b.a)({},c))};fetch("/login",n).then((function(e){return e.json()})).then((function(e){t(e),D("/home")})).catch((function(e){Y(!0)})),i(P)},children:[Object(B.jsxs)(u.a,{align:"center",children:[Object(B.jsx)("img",{src:"/mediumfantasyicon.png",alt:"icon"}),Object(B.jsx)("h2",{children:"Welcome Back!"})]}),Object(B.jsx)(f.a,{style:L,InputLabelProps:{shrink:!0},InputProps:{startAdornment:Object(B.jsx)(g.a,{position:"start",children:Object(B.jsx)(_.a,{})})},id:"email",placeholder:"Your Email",name:"email",type:"text",value:c.email,onChange:N,fullWidth:!0,required:!0}),Object(B.jsx)(f.a,{InputLabelProps:{shrink:!0},InputProps:{startAdornment:Object(B.jsx)(g.a,{position:"end",children:Object(B.jsx)(v.a,{"aria-label":"toggle password visibility",onClick:function(){E((function(e){return!e}))},edge:"start",children:S?Object(B.jsx)(w.a,{}):Object(B.jsx)(U.a,{})})})},id:"password",placeholder:"Password",name:"password",type:S?"text":"password",value:c.password,onChange:N,fullWidth:!0,required:!0}),W&&Object(B.jsx)(y.a,{severity:"error",children:"'Incorrect Email or Password. Try Again!'"}),Object(B.jsx)(k.a,{type:"submit",color:"primary",variant:"contained",style:I,fullWidth:!0,children:"Login"}),Object(B.jsx)(p.a,{children:" OR"}),Object(B.jsx)(k.a,{type:"submit",color:"primary",variant:"contained",style:I,fullWidth:!0,component:d.b,to:"/signup",children:"Create a new account"})]})})]})},z=n(160),W=function(){return Object(B.jsx)("div",{children:Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)("div",{style:{padding:"0 20px",justifyContent:"center"},children:Object(B.jsx)(z.Carousel,{data:[{image:"https://images-na.ssl-images-amazon.com/images/I/51zD8-wh1sL._SY291_BO1,204,203,200_QL40_FMwebp_.jpg"},{image:"https://images-na.ssl-images-amazon.com/images/I/51PSLKlvl6L._SY291_BO1,204,203,200_QL40_FMwebp_.jpg"},{image:"https://images-na.ssl-images-amazon.com/images/I/51ZEoen1UKL._SY291_BO1,204,203,200_QL40_FMwebp_.jpg"},{image:"https://images-na.ssl-images-amazon.com/images/I/51FUHvwk0ZL._SY291_BO1,204,203,200_QL40_FMwebp_.jpg"},{image:"https://images-na.ssl-images-amazon.com/images/I/51i6+67taoL._SX375_BO1,204,203,200_.jpg"}],time:3e3,width:"850px",height:"500px",radius:"10px",automatic:!0,dots:!0,pauseIconColor:"white",pauseIconSize:"40px",slideBackgroundColor:"black",slideImageFit:"contain",thumbnails:!1,thumbnailWidth:"100px",style:{textAlign:"center",maxWidth:"850px",maxHeight:"500px",margin:"20px auto"}})})})})},Y=n(351),D=n(352),N=n(170),R=n(335),F=n(336),G=n(322),M=n(337),J=n(161),H=n.n(J),q=[{name:"Explore",link:"/home"},{name:"My Book Clubs",link:"/mybookclubs"}],K=function(e){var t=e.currentUser,n=a.a.useState(null),r=Object(o.a)(n,2),c=r[0],i=r[1],s=a.a.useState(null),l=Object(o.a)(s,2),j=l[0],b=l[1],u=function(){i(null)};return Object(B.jsx)(O.a,{position:"static",children:Object(B.jsx)(Y.a,{maxWidth:"false",children:Object(B.jsxs)(h.a,{disableGutters:!0,children:[Object(B.jsx)(D.a,{sx:{display:{xs:"flex",md:"flex"},mr:1},children:Object(B.jsx)("img",{src:"/smallfantasyicon.png",alt:"icon"})}),Object(B.jsxs)(x.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[Object(B.jsx)(v.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},color:"inherit",children:Object(B.jsx)(H.a,{})}),Object(B.jsx)(N.a,{id:"menu-appbar",anchorEl:c,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(c),onClose:u,sx:{display:{xs:"block",md:"none"}},children:q.map((function(e){return Object(B.jsx)(R.a,{onClick:u,children:Object(B.jsx)(F.a,{underline:"none",color:"inherit",textAlign:"center",component:d.b,to:e.link,children:e.name})},e.name)}))})]}),Object(B.jsx)(x.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:q.map((function(e){return Object(B.jsx)(k.a,{onClick:u,sx:{my:2,color:"white",display:"block"},children:Object(B.jsx)(F.a,{underline:"none",color:"inherit",textAlign:"center",component:d.b,to:e.link,children:e.name})},e.name)}))}),Object(B.jsxs)(x.a,{sx:{flexGrow:0},children:[Object(B.jsx)(G.a,{title:"Open settings",children:Object(B.jsx)(v.a,{onClick:function(e){b(e.currentTarget)},sx:{p:0},children:Object(B.jsx)(M.a,{alt:"current user",src:t.avatar})})}),Object(B.jsxs)(N.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:j,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(j),onClose:function(){b(null)},children:[Object(B.jsx)(R.a,{component:d.b,to:"/myaccount",onClick:function(){b(null)},children:"My account"}),Object(B.jsx)(R.a,{component:d.b,to:"/",onClick:function(){fetch("/logout",{method:"DELETE"})},children:"Logout"})]})]})]})})})},Q=n(5),V=n(338),Z=n(317),X=n(327),$=n(348),ee=n(318),te=n(163),ne=n.n(te),re=n(316),ae=Object(Q.a)(m.a)((function(e){var t=e.theme;return Object(b.a)(Object(b.a)({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2),{},{padding:t.spacing(2),textAlign:"center",color:t.palette.text.secondary})})),ce=a.a.forwardRef((function(e,t){return Object(B.jsx)(re.a,Object(b.a)({direction:"up",ref:t},e))})),ie=function(e){var t=e.club,n=e.currentUser,a=e.addUserBookClub,c=Object(r.useState)(!1),i=Object(o.a)(c,2),s=i[0],j=i[1],b=Object(l.f)(),d=function(){j(!1)};return Object(B.jsxs)("div",{children:[Object(B.jsx)(ae,{variant:"outlined",onClick:function(){j(!0)},children:Object(B.jsx)("img",{src:t.image,alt:"book cover",style:{maxHeight:"200px",maxWidth:"90%",flexShrink:1,display:{xs:"flex",md:"none"}}})}),Object(B.jsxs)(V.a,{fullScreen:!0,open:s,onClose:d,TransitionComponent:ce,children:[Object(B.jsx)(O.a,{sx:{position:"relative"},children:Object(B.jsxs)(h.a,{children:[Object(B.jsx)(v.a,{edge:"start",color:"inherit",onClick:d,"aria-label":"close",children:Object(B.jsx)(ne.a,{})}),Object(B.jsx)(p.a,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:t.club_name})]})}),Object(B.jsxs)($.a,{children:[Object(B.jsxs)(X.a,{children:[Object(B.jsx)("img",{src:t.image,alt:"books",style:{maxHeight:"100px",flexShrink:1,display:{xs:"flex",md:"none"}}}),Object(B.jsx)(Z.a,{sx:{ml:2},primary:t.title,secondary:t.author}),Object(B.jsx)(k.a,{color:"primary",variant:"contained",href:t.url,target:"_blank",rel:"noopener noreferrer",children:"BUY THIS BOOK"})]}),Object(B.jsx)(ee.a,{}),Object(B.jsx)(X.a,{children:Object(B.jsx)(Z.a,{primary:"Description",secondary:t.desc})}),Object(B.jsx)(ee.a,{}),Object(B.jsx)(X.a,{children:Object(B.jsx)(Z.a,{primary:"Genre",secondary:t.genre})}),Object(B.jsx)(ee.a,{}),Object(B.jsx)(X.a,{children:Object(B.jsx)(Z.a,{primary:"F&P Reading Level",secondary:t.reading_level})})]}),Object(B.jsx)(k.a,{size:"medium",color:"secondary",variant:"contained",onClick:function(e){e.preventDefault();var r={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user_id:n.id,book_club_id:t.id})};fetch("/memberships",r).then((function(e){return e.json()})).then((function(e){a(e),b("/mybookclubs")})),j(!1)},children:"JOIN THIS BOOK CLUB"})]})]})},se=n(331),oe=function(e){var t,n=e.currentUser,a=e.addUserBookClub,c=e.userBookClubs,i=Object(r.useState)([]),s=Object(o.a)(i,2),l=s[0],j=s[1];console.log(n),Object(r.useEffect)((function(){fetch("/book_clubs").then((function(e){return e.json()})).then((function(e){return j(e)}))}),[]);var b,d=[];b="id",d=c.map((function(e){return e[b]}));var u;return u=l.filter((function(e){return!d.includes(e.id)})),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(K,{currentUser:n}),Object(B.jsx)(W,{}),Object(B.jsxs)(x.a,{sx:{flexGrow:1},children:[Object(B.jsx)(p.a,{m:2,sx:{textAlign:"center",fontSize:24},children:"Join A New Book Club!"}),Object(B.jsx)(se.a,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:16},children:null===(t=u)||void 0===t?void 0:t.map((function(e){return Object(B.jsx)(se.a,{xs:2,sm:4,md:4,children:Object(B.jsx)(ie,{club:e,currentUser:n,addUserBookClub:a})},e.id)}))})]})]})},le=n(164),je=n.n(le),be={padding:20,height:"70vh",width:320,margin:"20px auto",textAlign:"center",boxShadow:"4px 4px 4px rgba(0, 0, 0, 0.25)",borderRadius:"25px"},de={margin:"20px 0"},ue={marginTop:"2.5%",marginBottom:"2.5%"},xe={name:"",email:"",password:""},Oe=function(e){var t=e.setCurrentUser,n=Object(r.useState)(xe),a=Object(o.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(!1),C=Object(o.a)(s,2),S=C[0],E=C[1],A=Object(r.useState)([]),I=Object(o.a)(A,2),L=I[0],P=I[1],T=Object(l.f)(),z=function(e){var t=e.target,n=t.name,r=t.value;i(Object(b.a)(Object(b.a)({},c),{},Object(j.a)({},n,r)))};return Object(B.jsxs)(u.a,{style:{display:"inline-block",backgroundImage:"url(https://i.imgur.com/Y35Y6mf.jpg)",backgroundSize:"cover",backgroundAttachment:"fixed",width:"100%",height:"100%",position:"absolute",backgroundRepeat:"no-repeat"},children:[Object(B.jsx)(x.a,{sx:{display:"flex",margin:"40px 0"},children:Object(B.jsx)(O.a,{component:"nav",children:Object(B.jsx)(h.a,{children:Object(B.jsx)(p.a,{variant:"h6",component:"div",sx:{flexGrow:1,display:{xs:"none",sm:"block"}},children:"Book Club Cafe"})})})}),Object(B.jsx)(m.a,{elevation:10,style:be,children:Object(B.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(b.a)({},c))}).then((function(e){e.ok?e.json().then((function(e){t(e),T("/home")})):e.json().then((function(e){return P(Object.entries(e.errors))}))})),i(xe)},children:[Object(B.jsxs)(u.a,{align:"center",children:[Object(B.jsx)("img",{src:"/mediumfantasyicon.png",alt:"icon"}),Object(B.jsx)("h2",{children:"Sign up and start reading!"})]}),Object(B.jsx)(f.a,{style:ue,InputLabelProps:{shrink:!0},InputProps:{startAdornment:Object(B.jsx)(g.a,{position:"start",children:Object(B.jsx)(je.a,{})})},id:"name",placeholder:"Your Name",name:"name",type:"text",value:c.name,onChange:z,fullWidth:!0,required:!0}),Object(B.jsx)(f.a,{style:ue,InputLabelProps:{shrink:!0},InputProps:{startAdornment:Object(B.jsx)(g.a,{position:"start",children:Object(B.jsx)(_.a,{})})},id:"email",placeholder:"Email Address",name:"email",type:"text",value:c.email,onChange:z,fullWidth:!0,required:!0}),Object(B.jsx)(f.a,{style:ue,InputLabelProps:{shrink:!0},InputProps:{startAdornment:Object(B.jsx)(g.a,{position:"end",children:Object(B.jsx)(v.a,{"aria-label":"toggle password visibility",onClick:function(){E((function(e){return!e}))},edge:"start",children:S?Object(B.jsx)(w.a,{}):Object(B.jsx)(U.a,{})})})},id:"password",placeholder:"Password",name:"password",type:S?"text":"password",value:c.password,onChange:z,fullWidth:!0,required:!0}),0===L.length?null:Object(B.jsx)(y.a,{severity:"error",children:L[0][1]}),Object(B.jsx)(k.a,{type:"submit",color:"primary",variant:"contained",style:de,fullWidth:!0,children:"SIGN UP"}),Object(B.jsx)(p.a,{component:d.b,to:"/login",children:" Already have an account?"})]})})]})},he=n(91),pe=n.n(he),me=n(346),fe=n(329),ge=n(326),ve=function(e){var t=e.event,n=e.currentUser,a=e.addUserEvent,c=e.deleteUserEvent,i=e.allAttendances,s=Object(r.useState)(""),l=Object(o.a)(s,2),j=l[0],b=l[1];Object(r.useEffect)((function(){fetch("/events/".concat(t.id)).then((function(e){return e.json()})).then((function(e){e.attendances.find((function(e){return e.user_id===n.id}))?b("Yes"):b("")}))}),[]);return Object(B.jsxs)(x.a,{sx:{display:"flex",p:1,margin:"auto",border:2,justifyContent:"space-between",alignItems:"center"},variant:"outlined",children:[Object(B.jsxs)(x.a,{children:["Event Name: ",t.name,Object(B.jsx)("br",{}),"Event Date: ",Object(B.jsx)(pe.a,{children:t.date})]}),Object(B.jsx)(x.a,{sx:{minWidth:120},children:Object(B.jsxs)(me.a,{fullWidth:!0,variant:"filled",children:[Object(B.jsx)(fe.a,{children:"My RSVP"}),Object(B.jsxs)(ge.a,{value:j,label:"RSVP",onChange:function(e){return b(e.target.value)},children:[Object(B.jsx)(R.a,{onClick:function(e){if(e.preventDefault(),!i.find((function(e){return e.event.id===t.id&&e.user.id===n.id}))){var r={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user_id:n.id,event_id:t.id})};fetch("/attendances",r).then((function(e){return e.json()})).then((function(e){a(e.event)}))}},value:"Yes",children:"Yes"}),Object(B.jsx)(R.a,{onClick:function(){var e=i.find((function(e){return e.event.id===t.id&&e.user.id===n.id}));e&&(fetch("/attendances/".concat(e.id),{method:"DELETE"}),c(t.id),b("No"))},value:"No",children:"No"})]})]})})]})},ye=n(324),ke=Object(Q.a)(m.a)((function(e){var t=e.theme;return Object(b.a)(Object(b.a)({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2),{},{padding:t.spacing(2),textAlign:"left",color:t.palette.text.secondary})})),Ce={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},we=function(e){var t=e.club,n=e.currentUser,a=(e.userEvents,e.deleteUserBookClub),c=e.addUserEvent,i=e.deleteUserEvent,s=Object(r.useState)([]),l=Object(o.a)(s,2),j=l[0],b=l[1],d=Object(r.useState)([]),u=Object(o.a)(d,2),O=u[0],h=u[1];Object(r.useEffect)((function(){fetch("/attendances").then((function(e){return e.json()})).then((function(e){return h(e)}))}),[]);var m=null===O||void 0===O?void 0:O.filter((function(e){return 11===e.event.book_club.id&&11===e.user.id})),f=Object(r.useState)(!1),g=Object(o.a)(f,2),v=g[0],y=g[1],C=function(){return y(!1)},w=(new Date).toLocaleDateString();Object(r.useEffect)((function(){fetch("/memberships").then((function(e){return e.json()})).then((function(e){return b(e)}))}),[]);var S=t.events.sort((function(e,t){return new Date(e.date)-new Date(t.date)}));return Object(B.jsxs)(ke,{variant:"outlined",children:[Object(B.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:Object(B.jsx)("img",{src:t.image,alt:t.title,style:{maxHeight:"200px",maxWidth:"100%"}})}),Object(B.jsxs)(p.a,{children:[t.club_name,": ",t.title]}),S.map((function(e){return e.date<=w?Object(B.jsx)(ve,{event:e,currentUser:n,addUserEvent:c,deleteUserEvent:i,allAttendances:O},e.id):null})),Object(B.jsx)(k.a,{sx:{mt:3},size:"medium",color:"secondary",variant:"contained",onClick:function(){return y(!0)},children:"LEAVE THIS BOOK CLUB"}),Object(B.jsx)(ye.a,{open:v,onClose:C,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(B.jsxs)(x.a,{sx:Ce,textAlign:"center",borderRadius:2,p:8,children:[Object(B.jsx)(p.a,{id:"modal-modal-title",variant:"h7",component:"h2",children:"Are you sure you want to leave this book club?"}),Object(B.jsx)(k.a,{sx:{margin:2},variant:"outlined",onClick:function(){var e=j.find((function(e){return e.book_club.id===t.id&&e.user.id===n.id}));fetch("/memberships/".concat(e.id),{method:"DELETE"}),a(t.id),m.map((function(e){return fetch("/attendances/".concat(e.id),{method:"DELETE"})}))},children:"Yes"}),Object(B.jsx)(k.a,{sx:{margin:2},variant:"outlined",onClick:C,children:"No"})]})})]})},Se=Object(Q.a)(m.a)((function(e){var t=e.theme;return Object(b.a)(Object(b.a)({backgroundColor:"#00838f"},t.typography.body2),{},{padding:8,textAlign:"center",color:"white",border:"4px solid white"})})),Ue=function(e){var t=e.currentUser,n=e.userBookClubs,a=e.deleteUserBookClub,c=Object(r.useState)([]),i=Object(o.a)(c,2),l=i[0],j=i[1];console.log(t),Object(r.useEffect)((function(){fetch("/myevents").then((function(e){return e.json()})).then((function(e){return j(e)}))}),[]);var b,d=function(e){return j((function(t){return[].concat(Object(s.a)(t),[e])}))},u=function(e){return j((function(t){return t.filter((function(t){return t.id!==e}))}))},O=[];b="id",O=n.map((function(e){return e[b]}));var h=l.filter((function(e){return O.includes(e.book_club.id)})).sort((function(e,t){return new Date(e.date)-new Date(t.date)}));return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(K,{currentUser:t}),Object(B.jsx)(x.a,{sx:{display:"flex",p:1,bgcolor:"background.paper",borderRadius:1},children:Object(B.jsxs)(se.a,{sx:{flexGrow:1,margin:1},children:[Object(B.jsxs)(se.a,{xs:6,md:4,sx:{width:"100%"},children:[Object(B.jsx)(p.a,{m:2,sx:{textAlign:"center",fontSize:24},children:"My Upcoming Events"}),null===h||void 0===h?void 0:h.map((function(e){return Object(B.jsxs)(Se,{children:[Object(B.jsxs)(p.a,{children:[e.book_club.club_name,": ",e.name]}),Object(B.jsx)(pe.a,{children:e.date})]},e.id)}))]}),Object(B.jsx)(p.a,{m:2,sx:{textAlign:"center",fontSize:24},children:"My Book Clubs"}),null===n||void 0===n?void 0:n.map((function(e){return Object(B.jsx)(se.a,{xs:6,md:8,children:Object(B.jsx)(we,{club:e,userEvents:l,deleteUserBookClub:a,currentUser:t,addUserEvent:d,deleteUserEvent:u})},e.id)}))]})})]})},Ee=n(127),_e=n(165),Be={padding:20,height:"70vh",width:320,margin:"20px auto",textAlign:"center"},Ae={margin:"20px 0",borderRadius:25},Ie={marginTop:"2.5%",marginBottom:"2.5%"},Le=function(e){var t=e.currentUser,n=Object(r.useState)({name:t.name,email:t.email,bio:t.bio,avatar:t.avatar}),a=Object(o.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)([]),l=Object(o.a)(s,2),d=(l[0],l[1]);function x(e){i(Object(b.a)(Object(b.a)({},c),{},Object(j.a)({},e.target.id,e.target.value)))}function O(){return(O=Object(_e.a)(Object(Ee.a)().mark((function e(){var n,r,a,s;return Object(Ee.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:c.name,email:c.email,bio:c.bio,avatar:c.avatar},r={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},e.next=4,fetch("/users/".concat(t.id),r);case 4:if(!(a=e.sent).ok){e.next=10;break}i({name:t.name,email:t.email,bio:t.bio,avatar:t.avatar}),d([]),e.next=14;break;case 10:return e.next=12,a.json();case 12:s=e.sent,d(s.errors);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(K,{currentUser:t}),Object(B.jsx)(m.a,{elevation:10,style:Be,children:Object(B.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){O.apply(this,arguments)}()},children:[Object(B.jsx)(u.a,{align:"center",children:Object(B.jsx)("h2",{children:" Edit Profile"})}),Object(B.jsx)(f.a,{style:Ie,id:"name",placeholder:"Your Full Name",name:"name",type:"text",value:c.name,onChange:x,fullWidth:!0}),Object(B.jsx)(f.a,{style:Ie,id:"email",placeholder:"Your Email",name:"email",type:"text",value:c.email,onChange:x,fullWidth:!0}),Object(B.jsx)(f.a,{style:Ie,id:"bio",placeholder:"Your Bio",name:"bio",type:"text",value:c.bio,onChange:x,fullWidth:!0}),Object(B.jsx)(f.a,{style:Ie,id:"avatar",placeholder:"Your Profile Picture",name:"avatar",type:"text",value:c.avatar,onChange:x,fullWidth:!0}),Object(B.jsx)(k.a,{type:"submit",color:"primary",variant:"contained",style:Ae,fullWidth:!0,children:"Update"})]})})]})},Pe=n(320),Te=n(321),ze=n(319),We=n(353),Ye=n(354),De=n(166),Ne=n.n(De),Re=n(167),Fe=n.n(Re),Ge=n(168),Me=n.n(Ge),Je=function(){var e=a.a.useState(0),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(x.a,{sx:{display:"flex",margin:"40px 0"},children:Object(B.jsx)(O.a,{component:"nav",children:Object(B.jsxs)(h.a,{children:[Object(B.jsx)(D.a,{sx:{display:{xs:"flex",md:"flex"},mr:1},children:Object(B.jsx)("img",{src:"/smallfantasyicon.png",alt:"icon"})}),Object(B.jsx)(p.a,{variant:"h6",component:"div",sx:{flexGrow:1,display:{xs:"none",sm:"block"}},children:"Book Club Cafe"}),Object(B.jsxs)(ze.a,{spacing:2,direction:"row",children:[Object(B.jsx)(k.a,{type:"submit",color:"secondary",variant:"contained",component:d.b,to:"/login",children:"Login"}),Object(B.jsx)(k.a,{type:"submit",color:"secondary",variant:"contained",component:d.b,to:"/signup",children:"Signup"})]})]})})}),Object(B.jsx)(Pe.a,{fluid:!0,style:{backgroundImage:"url(https://i.imgur.com/HJnlvq0.png)",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:Object(B.jsxs)(Te.a,{children:[Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})]})}),Object(B.jsx)(Pe.a,{fluid:!0,style:{backgroundImage:"url(https://i.imgur.com/KdJbm1Q.png)",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:Object(B.jsxs)(Te.a,{children:[Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})," ",Object(B.jsx)("br",{})]})}),Object(B.jsx)(x.a,{sx:{justifyContent:"space-between"},children:Object(B.jsxs)(We.a,{showLabels:!0,value:n,onChange:function(e,t){r(t)},children:[Object(B.jsx)(Ye.a,{label:"Github",icon:Object(B.jsx)(Ne.a,{}),href:"https://github.com/conniedc1206/book-club-cafe-app",target:"_blank",rel:"noopener noreferrer"}),Object(B.jsx)(Ye.a,{label:"LinkedIn",icon:Object(B.jsx)(Fe.a,{}),href:"https://www.linkedin.com/in/conniepark2/",target:"_blank",rel:"noopener noreferrer"}),Object(B.jsx)(Ye.a,{label:"Contact",icon:Object(B.jsx)(Me.a,{})})]})})]})},He=n(169),qe=n(339),Ke=Object(He.a)({palette:{type:"light",primary:{main:"#00838f"},secondary:{main:"#f50057"}}});var Qe=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),i=Object(o.a)(c,2),j=i[0],b=i[1];return Object(r.useEffect)((function(){fetch("/me").then((function(e){return e.json()})).then((function(e){a(e),b(e.book_clubs)}))}),[]),Object(B.jsx)(qe.a,{theme:Ke,children:Object(B.jsxs)(l.c,{children:[Object(B.jsx)(l.a,{path:"/",element:Object(B.jsx)(Je,{})}),Object(B.jsx)(l.a,{path:"/login",element:Object(B.jsx)(T,{setCurrentUser:a})}),Object(B.jsx)(l.a,{path:"signup",element:Object(B.jsx)(Oe,{setCurrentUser:a})}),Object(B.jsx)(l.a,{path:"home",element:Object(B.jsx)(oe,{currentUser:n,addUserBookClub:function(e){return b((function(t){return[].concat(Object(s.a)(t),[e])}))},userBookClubs:j})}),Object(B.jsx)(l.a,{path:"mybookclubs",element:Object(B.jsx)(Ue,{currentUser:n,userBookClubs:j,deleteUserBookClub:function(e){return b((function(t){return t.filter((function(t){return t.id!==e}))}))}})}),Object(B.jsx)(l.a,{path:"myaccount",element:Object(B.jsx)(Le,{currentUser:n})})]})})};i.a.render(Object(B.jsx)(a.a.StrictMode,{children:Object(B.jsx)(d.a,{children:Object(B.jsx)(Qe,{})})}),document.getElementById("root"))}},[[262,1,2]]]);
//# sourceMappingURL=main.f402bade.chunk.js.map